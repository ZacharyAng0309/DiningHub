@model DiningHub.Models.Order

@{
    ViewData["Title"] = $"Order Details - Order #{Model.OrderId}";
}

<h2>Order Details</h2>

<div>
    <h4>Order</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">Order ID</dt>
        <dd class="col-sm-10">@Model.OrderId</dd>

        <dt class="col-sm-2">Order Date</dt>
        <dd class="col-sm-10">@Model.OrderDate.ToString("g")</dd>

        <dt class="col-sm-2">User</dt>
        <dd class="col-sm-10">@Model.User.UserName</dd>

        <dt class="col-sm-2">Total Amount</dt>
        <dd class="col-sm-10">@Model.TotalAmount.ToString("C", System.Globalization.CultureInfo.GetCultureInfo("ms-MY"))</dd>

        <dt class="col-sm-2">Payment Method</dt>
        <dd class="col-sm-10">@Model.PaymentMethod</dd>

        <dt class="col-sm-2">Payment Date</dt>
        <dd class="col-sm-10">@Model.PaymentDate?.ToString("g")</dd>

        <dt class="col-sm-2">Created At</dt>
        <dd class="col-sm-10">@Model.CreatedAt.ToString("g")</dd>

        <dt class="col-sm-2">Items</dt>
        <dd class="col-sm-10">
            <ul>
                @foreach (var item in Model.OrderItems)
                {
                    <li>@item.MenuItem.Name - @item.Quantity x @item.Price.ToString("C", System.Globalization.CultureInfo.GetCultureInfo("ms-MY"))</li>
                }
            </ul>
        </dd>

        @if (Model.Feedback != null)
        {
            <dt class="col-sm-2">Feedback</dt>
            <dd class="col-sm-10">
                <strong>Rating:</strong> @Model.Feedback.Rating/5 <br />
                <strong>Comments:</strong> @Model.Feedback.Comments <br />
                <strong>Date:</strong> @Model.Feedback.Date.ToString("g") <br />
                <strong>Provided by:</strong> @Model.Feedback.User.UserName
            </dd>
        }
    </dl>
</div>

<div>
    <a asp-action="Index" class="btn btn-secondary">Back to List</a>
</div>
